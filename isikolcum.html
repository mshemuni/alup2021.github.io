
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Python Işıkölçüm &#8212; ALÜP 2021</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.5f77b4aec8189eecf79907ce328c390d.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Python Kalibrasyon" href="calibration.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/logo_b.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">ALÜP 2021</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Lisansütü Bilgilendirme ve Uygulama Programı
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="gozlem.html">
   Gözlem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="astropy.html">
   Astropy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="daofind.html">
   photutils
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="calibration.html">
   Python Kalibrasyon
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Python Işıkölçüm
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/isikolcum.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://mshemuni.github.io/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://mshemuni.github.io//issues/new?title=Issue%20on%20page%20%2Fisikolcum.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#zaman">
   Zaman
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parlaklik">
   Parlaklık
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kaynak-profilleri">
     Kaynak profilleri
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#isikolcum">
   Işıkölçüm
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="python-isikolcum">
<h1>Python Işıkölçüm<a class="headerlink" href="#python-isikolcum" title="Permalink to this headline">¶</a></h1>
<p>Işıkölçüm (photometry) bir kaynağın zamana bağlı parlaklığındaki değişimin incelenmesidir.</p>
<p>Yukarıdaki tanıma göre, ışıkölçüm yapabilmek için, bir kaynağın parlaklığına ve ölçümün yapıldığı zamana ihtiyacımız olaraktır.</p>
<p>Daha önce zaman kavramları ve FITS dosyaları üzerinde konuştuk.</p>
<p>Fiziksel bir olayın geçekleşmesini anlamak için, olayın gerçekleşme zamanını bilmek önemlidir. Dolayısıyla bir FITS
dosyası oluşturulurken başlığında FITS dosyasının kaydetmeye çalıştığı olayın
(bizim durumumuzda gök cisminin parlaklığı) zamanı da FITS’in başlığına yazılır. Söz konusu zaman türü değişiklik
gösterebilir (JD, UTC, Yerel gibi). Fakat zamanın kaydedildiğine emin olabiliriz.</p>
<div class="section" id="zaman">
<h2>Zaman<a class="headerlink" href="#zaman" title="Permalink to this headline">¶</a></h2>
<p>Daha önceli örneğimizde bir FITS dosyasındaki başlıkların listesini edinmiştik:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">astropy.io</span> <span class="kn">import</span> <span class="n">fits</span> <span class="k">as</span> <span class="n">fts</span>

<span class="n">header</span> <span class="o">=</span> <span class="n">fts</span><span class="o">.</span><span class="n">getheader</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[Dosya Yolu]&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([</span><span class="n">card</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="n">header</span><span class="o">.</span><span class="n">cards</span> <span class="k">if</span> <span class="n">card</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>Çıktı:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;SIMPLE&#39;</span><span class="p">,</span> <span class="s1">&#39;BITPIX&#39;</span><span class="p">,</span> <span class="s1">&#39;NAXIS&#39;</span><span class="p">,</span> <span class="s1">&#39;NAXIS1&#39;</span><span class="p">,</span> <span class="s1">&#39;NAXIS2&#39;</span><span class="p">,</span> <span class="s1">&#39;EXTEND&#39;</span><span class="p">,</span> <span class="s1">&#39;ORIGIN&#39;</span><span class="p">,</span> <span class="s1">&#39;DATE&#39;</span><span class="p">,</span> <span class="s1">&#39;IRAF-TLM&#39;</span><span class="p">,</span> <span class="s1">&#39;OBJECT&#39;</span><span class="p">,</span> <span class="s1">&#39;IRAF-MAX&#39;</span><span class="p">,</span> <span class="s1">&#39;IRAF-MIN&#39;</span><span class="p">,</span> <span class="s1">&#39;CCDPICNO&#39;</span><span class="p">,</span> <span class="s1">&#39;ITIME&#39;</span><span class="p">,</span> <span class="s1">&#39;TTIME&#39;</span><span class="p">,</span> <span class="s1">&#39;OTIME&#39;</span><span class="p">,</span> <span class="s1">&#39;DATA-TYP&#39;</span><span class="p">,</span> <span class="s1">&#39;DATE-OBS&#39;</span><span class="p">,</span> <span class="s1">&#39;RA&#39;</span><span class="p">,</span> <span class="s1">&#39;DEC&#39;</span><span class="p">,</span> <span class="s1">&#39;EPOCH&#39;</span><span class="p">,</span> <span class="s1">&#39;ZD&#39;</span><span class="p">,</span> <span class="s1">&#39;UT&#39;</span><span class="p">,</span> <span class="s1">&#39;ST&#39;</span><span class="p">,</span> <span class="s1">&#39;CAM-ID&#39;</span><span class="p">,</span> <span class="s1">&#39;CAM-TEMP&#39;</span><span class="p">,</span> <span class="s1">&#39;DEW-TEMP&#39;</span><span class="p">,</span> <span class="s1">&#39;F1POS&#39;</span><span class="p">,</span> <span class="s1">&#39;F2POS&#39;</span><span class="p">,</span> <span class="s1">&#39;TVFILT&#39;</span><span class="p">,</span> <span class="s1">&#39;CMP-LAMP&#39;</span><span class="p">,</span> <span class="s1">&#39;TILT-POS&#39;</span><span class="p">,</span> <span class="s1">&#39;BIAS-PIX&#39;</span><span class="p">,</span> <span class="s1">&#39;BI-FLAG&#39;</span><span class="p">,</span> <span class="s1">&#39;BP-FLAG&#39;</span><span class="p">,</span> <span class="s1">&#39;CR-FLAG&#39;</span><span class="p">,</span> <span class="s1">&#39;DK-FLAG&#39;</span><span class="p">,</span> <span class="s1">&#39;FR-FLAG&#39;</span><span class="p">,</span> <span class="s1">&#39;FR-SCALE&#39;</span><span class="p">,</span> <span class="s1">&#39;TRIM&#39;</span><span class="p">,</span> <span class="s1">&#39;BT-FLAG&#39;</span><span class="p">,</span> <span class="s1">&#39;FF-FLAG&#39;</span><span class="p">,</span> <span class="s1">&#39;CCDPROC&#39;</span><span class="p">,</span> <span class="s1">&#39;AIRMASS&#39;</span><span class="p">,</span> <span class="s1">&#39;HISTORY&#39;</span><span class="p">,</span> <span class="s1">&#39;HISTORY&#39;</span><span class="p">,</span> <span class="s1">&#39;HISTORY&#39;</span><span class="p">,</span> <span class="s1">&#39;HISTORY&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Bu listeye bakacak olursak <code class="docutils literal notranslate"><span class="pre">Date</span></code> adlı bir anahtar/Kart görürüz. Bu anahtardaki değer verinin alındığı zamanı gösterecektir.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">astropy.io</span> <span class="kn">import</span> <span class="n">fits</span> <span class="k">as</span> <span class="n">fts</span>

<span class="n">header</span> <span class="o">=</span> <span class="n">fts</span><span class="o">.</span><span class="n">getheader</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\mshem\Desktop\pix.fits&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="s2">&quot;Date&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>Çıktı:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2021</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">16</span><span class="n">T08</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">55</span>
</pre></div>
</div>
<p>Dolayısıyla zaman bilgisini başlıktan alabileceğimizi öğrendik.</p>
</div>
<div class="section" id="parlaklik">
<h2>Parlaklık<a class="headerlink" href="#parlaklik" title="Permalink to this headline">¶</a></h2>
<p>Daha önce bir FITS verisinin bir matris olduğunu belirtmiştik. Mu matristeki her bir eleman sayısal görüntüdeki bir
piksele karşılık geldiğini de biliyoruz.</p>
<div class="section" id="kaynak-profilleri">
<h3>Kaynak profilleri<a class="headerlink" href="#kaynak-profilleri" title="Permalink to this headline">¶</a></h3>
<p>Bir kaynağın görüntü üzerinde yalnızca bir pikselde olması beklenemez. Bunun nedeni ise çoğunlukla atmosferdir.
Atmosfer dışında bir de yıldızlar arası ortam etkin olacaktır.</p>
<p>Bir kaynağın ışığı atmosferden geçtikten sonra dedektör düzlemine düşer. Söz konusu kaynağın dedektör üzerinde
oluşturduğu şekil ise Point Spread Function (PSF, Nokta Dağılım Fonksiyonu) ile ifade edilebilir.</p>
<p><img alt="psf" src="_images/psf.png" /></p>
<p>Noıkta Dağılımı</p>
<p>PSF bir noktanın görüntü üzerinde dağıldığı alanı matematiksel olarak ifade eder. Bu ise bize kaynağımızın akısının
hangi piksellerde olduğunu gösterir.</p>
<p>Kaynağın merkezini ve ne kadarlık alana dağıldığını bilirsek, söz konusu kaynağın akısın hesaplayabiliriz.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bu aşamada açıklık fotometrisi yaptıpımız için PSF’in yalnızca Yarı Yükseklikteki Tam Genişlik
(FWHM, Full Width at Half Maximum) değerini bilmemiz yeterli olacaktır.</p>
</div>
<p>Bir nokta dağılımın verisinin %90’ından fazlası FWHM’un 2.5 katı genişliğe dağılacaktır. Dolayısyıla açıklık fotometrisi
yaparken seçeceğimizn açıklık FWHM’un 2.5 katı kadar olmalıdır.</p>
</div>
</div>
<div class="section" id="isikolcum">
<h2>Işıkölçüm<a class="headerlink" href="#isikolcum" title="Permalink to this headline">¶</a></h2>
<p>Bir kaynağın konumunu ve FWHM değerlerini bildiğimize göre, söz konusu kaynağın akısını elde etmek için, kaynağın
bulunduğu konumda FWHM’un 2.5 katı kadar bölgede kalan piksellerin sayım değerlerini toplamamız gerek.</p>
<p>Göylece toplam sayım</p>
<div class="math notranslate nohighlight">
\[
sum = \sum_{n}^{a}{p_n}
\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><span class="math notranslate nohighlight">\(sum\)</span> toplam sayım, <span class="math notranslate nohighlight">\(p_n\)</span> n. piksel ve <span class="math notranslate nohighlight">\(a\)</span> acıklık altında kalan piksel olmak üzere</p>
</div>
<p>olarak ifade edilir.</p>
<p>Akıyı <code class="docutils literal notranslate"><span class="pre">birim</span> <span class="pre">zamanda,</span> <span class="pre">birim</span> <span class="pre">katı</span> <span class="pre">açıda,</span> <span class="pre">birim</span> <span class="pre">alana</span> <span class="pre">düşen</span> <span class="pre">toplam</span> <span class="pre">enerji</span> <span class="pre">miktarı</span></code> olarak tanımlamıştık.</p>
<p>Sonuç olarak akı</p>
<div class="math notranslate nohighlight">
\[
f = \frac{sum}{exp\_time * A}
\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><span class="math notranslate nohighlight">\(f\)</span> akı, <span class="math notranslate nohighlight">\(sum\)</span> toplam sayım, <span class="math notranslate nohighlight">\(exp\_time\)</span> görüntünün poz süresi ve <span class="math notranslate nohighlight">\(A\)</span> açıklığın alanı (piksel sayısı) olmak üzere</p>
</div>
<p>olarak hesaplanır.</p>
<p>Işıkölçüm sonucunun zamana bağlı akı olarak verilmesi anlamlı olup bazı uygulamalarda tercih edilir. Bizim çalışmamızda
ise ışıkölçüm zamana bağlı parlaklık olarak verilecektir. Dolayısıyla akı değerini parlaklığa dönüştürmek gerek.</p>
<p>Parlaklık ise</p>
<div class="math notranslate nohighlight">
\[
mag = -2.5 log(f)
\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><span class="math notranslate nohighlight">\(mag\)</span> parlaklık ve <span class="math notranslate nohighlight">\(f\)</span> akı olmak üzere</p>
</div>
<p>olarak hesaplanır.</p>
<p>Bu aşamada bir görüntü üzerindeki bir kaynak için zaman ve parlaklık değeri hesaplanmış oldu.</p>
<p>Python’ın gücünden destek alarak tüm görüntüler için tüm kaynakların zamana bağlı parlaklığı hesaplanabilir.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="calibration.html" title="previous page">Python Kalibrasyon</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Mohammad S.Niaei<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>